FROM node:lts-alpine
WORKDIR /app

COPY package.json package-lock.json ./
RUN npm install --silent

COPY . .

# Cloud Run defaults to 8080, but the app code handles the dynamic PORT env var.
EXPOSE 8080

CMD ["node", "src/index.js"]
